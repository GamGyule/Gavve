{"remainingRequest":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Web\\Gavve\\Gavve\\frontend\\src\\components\\pc\\admin\\BannerAddBox.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\src\\components\\pc\\admin\\BannerAddBox.vue","mtime":1639411443770},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634221177998},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1634221177998},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1634221183264},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634221177998},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1634221192301}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9XZWIvR2F2dmUvR2F2dmUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9XZWIvR2F2dmUvR2F2dmUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiRDovV2ViL0dhdnZlL0dhdnZlL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkQ6L1dlYi9HYXZ2ZS9HYXZ2ZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkQ6L1dlYi9HYXZ2ZS9HYXZ2ZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkQ6L1dlYi9HYXZ2ZS9HYXZ2ZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9kZWMsIF9jbGFzczsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IE9wdGlvbnMsIFZ1ZSB9IGZyb20gInZ1ZS1jbGFzcy1jb21wb25lbnQiOwppbXBvcnQgeyBQcm9wIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBEYXRlcGlja2VyIGZyb20gInZ1ZTMtZGF0ZS10aW1lLXBpY2tlciI7CmltcG9ydCAidnVlMy1kYXRlLXRpbWUtcGlja2VyL2Rpc3QvbWFpbi5jc3MiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwp2YXIgQmFubmVyQWRkQm94ID0gKF9kZWMgPSBPcHRpb25zKHsKICBwcm9wczogewogICAgYmFubmVyaW5kZXg6IE51bWJlciwKICAgIGJhbm5lckJveERhdGE6IE9iamVjdAogIH0sCiAgY29tcG9uZW50czogewogICAgRGF0ZXBpY2tlcjogRGF0ZXBpY2tlciwKICAgIFByb3A6IFByb3AKICB9Cn0pLCBfZGVjKF9jbGFzcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhCYW5uZXJBZGRCb3gsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEJhbm5lckFkZEJveCk7CgogIGZ1bmN0aW9uIEJhbm5lckFkZEJveCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFubmVyQWRkQm94KTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGF0ZSIsIG51bGwpOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhCYW5uZXJBZGRCb3gsIFt7CiAgICBrZXk6ICJkZWxldGVCYW5uZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUJhbm5lcihpZHgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdSRU1PVkVfQkFOTkVSJywgaWR4KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRCYW5uZXJJbWciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJhbm5lckltZyhwYXlsb2FkKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0JBTk5FUl9JTUcnLCBwYXlsb2FkKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcm9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcm9wKGV2ZW50LCB0eXBlKSB7CiAgICAgIGlmICh0eXBlID09PSAiaW1nIikgewogICAgICAgIHRoaXMuaW5wdXRJbWFnZURyb3AoZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAid29yZCIpIHsKICAgICAgICB0aGlzLmlucHV0V29yZERyb3AoZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImltYWdlVXBsb2FkQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbWFnZVVwbG9hZENoYW5nZShldmVudCkgewogICAgICB0aGlzLnVwbG9hZEltYWdlKGV2ZW50LnRhcmdldC5maWxlc1swXSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBsb2FkSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwbG9hZEltYWdlKGZpbGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygidXBsb2FkSW1hZ2UiKTsKICAgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdmFyIGlkeCA9IHRoaXMuYmFubmVyaW5kZXg7CiAgICAgIGZvcm0uYXBwZW5kKCdpbWFnZScsIGZpbGUpOwogICAgICB2YXIgcGF5bG9hZCA9IHt9OwogICAgICBheGlvcy5wb3N0KCIvYXBpL2Jhbm5lci1pbWFnZSIsIGZvcm0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBwYXlsb2FkID0gewogICAgICAgICAgaW5kZXg6IGlkeCwKICAgICAgICAgIHNyYzogcmVzLmRhdGEucGF0aAogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZCk7CgogICAgICAgIF90aGlzMi5zZXRCYW5uZXJJbWcocGF5bG9hZCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNsaWNrVXBsb2FkSW1hZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsaWNrVXBsb2FkSW1hZ2UoKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2ltZ3VwbG9hZCcgKyB0aGlzLmJhbm5lcmluZGV4XS5jbGljaygpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsaWNrVXBsb2FkV29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xpY2tVcGxvYWRXb3JkKCkgewogICAgICB0aGlzLiRyZWZzWyd3b3JkdXBsb2FkJyArIHRoaXMuYmFubmVyaW5kZXhdLmNsaWNrKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5wdXRJbWFnZURyb3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlucHV0SW1hZ2VEcm9wKGZpbGVzKSB7CiAgICAgIGlmIChmaWxlcy5sZW5ndGgpIHsKICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdOwoKICAgICAgICBpZiAoIS9eaW1hZ2VcLy8udGVzdChmaWxlLnR5cGUpKSB7CiAgICAgICAgICBhbGVydCgi7J2066+47KeAIO2MjOydvOunjCDqsIDriqXtlanri4jri6QuIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnVwbG9hZEltYWdlKGZpbGUpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5wdXRXb3JkRHJvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5wdXRXb3JkRHJvcChmaWxlcykgewogICAgICBpZiAoZmlsZXMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTsKCiAgICAgICAgaWYgKCEvXmltYWdlXC8vLnRlc3QoZmlsZS50eXBlKSkgewogICAgICAgICAgYWxlcnQoIuydtOuvuOyngCDtjIzsnbzrp4wg6rCA64ql7ZWp64uI64ukLiIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJhbm5lckFkZEJveDsKfShWdWUpKSB8fCBfY2xhc3MpOwpleHBvcnQgeyBCYW5uZXJBZGRCb3ggYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["D:\\Web\\Gavve\\Gavve\\frontend\\src\\components\\pc\\admin\\BannerAddBox.vue"],"names":[],"mappings":";;;;;;;;;;;AA8DA,SAAS,OAAT,EAAkB,GAAlB,QAA6B,qBAA7B;AACA,SAAS,IAAT,QAAoB,wBAApB;AACA,OAAO,UAAP,MAAuB,uBAAvB;AACA,OAAO,qCAAP;AACA,OAAO,KAAP,MAAkB,OAAlB;IAYqB,Y,WAVpB,OAAO,CAAC;AACP,EAAA,KAAK,EAAC;AACJ,IAAA,WAAW,EAAE,MADT;AAEJ,IAAA,aAAa,EAAE;AAFX,GADC;AAKP,EAAA,UAAU,EAAE;AAAE,IAAA,UAAU,EAAV,UAAF;AAAc,IAAA,IAAG,EAAH;AAAd;AALL,CAAD,C;;;;;;;;;;;;;;;;2DAWC,I;;;;;;;WAEP,sBAAa,GAAb,EAAkB;AAChB,WAAK,MAAL,CAAY,MAAZ,CAAmB,eAAnB,EAAmC,GAAnC;AACF;;;WAEA,sBAAa,OAAb,EAAqB;AACnB,WAAK,MAAL,CAAY,MAAZ,CAAmB,gBAAnB,EAAoC,OAApC;AACF;;;WAEA,cAAK,KAAL,EAAY,IAAZ,EAAiB;AACf,UAAG,IAAI,KAAG,KAAV,EAAgB;AACd,aAAK,cAAL,CAAoB,KAAK,CAAC,YAAN,CAAmB,KAAvC;AACD,OAFD,MAEM,IAAG,IAAI,KAAG,MAAV,EAAiB;AACrB,aAAK,aAAL,CAAmB,KAAK,CAAC,YAAN,CAAmB,KAAtC;AACF;AACF;;;WAEA,2BAAkB,KAAlB,EAAwB;AACtB,WAAK,WAAL,CAAiB,KAAK,CAAC,MAAN,CAAa,KAAb,CAAmB,CAAnB,CAAjB;AACF;;;WAEA,qBAAY,IAAZ,EAAiB;AAAA;;AACf,MAAA,OAAO,CAAC,GAAR,CAAY,aAAZ;AACA,UAAI,IAAG,GAAI,IAAI,QAAJ,EAAX;AACA,UAAI,GAAE,GAAI,KAAK,WAAf;AACA,MAAA,IAAI,CAAC,MAAL,CAAY,OAAZ,EAAoB,IAApB;AACA,UAAI,OAAM,GAAI,EAAd;AACA,MAAA,KAAK,CAAC,IAAN,CAAW,mBAAX,EAA+B,IAA/B,EAAoC;AAAC,QAAA,OAAO,EAAC;AAAC,0BAAe;AAAhB;AAAT,OAApC,EACG,IADH,CACQ,UAAA,GAAE,EAAK;AACb,QAAA,OAAM,GAAG;AACP,UAAA,KAAK,EAAC,GADC;AAEP,UAAA,GAAG,EAAC,GAAG,CAAC,IAAJ,CAAS;AAFN,SAAT;AAIA,QAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;;AACA,QAAA,MAAI,CAAC,YAAL,CAAkB,OAAlB;AACD,OARD;AASF;;;WAEA,4BAAkB;AAChB,WAAK,KAAL,CAAW,cAAY,KAAK,WAA5B,EAAyC,KAAzC;AACF;;;WAEA,2BAAiB;AACf,WAAK,KAAL,CAAW,eAAa,KAAK,WAA7B,EAA0C,KAA1C;AACF;;;WAEA,wBAAe,KAAf,EAAqB;AACnB,UAAG,KAAK,CAAC,MAAT,EAAgB;AACd,YAAI,IAAG,GAAI,KAAK,CAAC,CAAD,CAAhB;;AACA,YAAG,CAAC,WAAW,IAAX,CAAgB,IAAI,CAAC,IAArB,CAAJ,EAA+B;AAC7B,UAAA,KAAK,CAAC,gBAAD,CAAL;AACA,iBAAO,KAAP;AACF;;AACF,aAAK,WAAL,CAAiB,IAAjB;AAEA;AACF;;;WAEA,uBAAc,KAAd,EAAoB;AAClB,UAAG,KAAK,CAAC,MAAT,EAAgB;AACd,YAAI,IAAG,GAAI,KAAK,CAAC,CAAD,CAAhB;;AACA,YAAG,CAAC,WAAW,IAAX,CAAgB,IAAI,CAAC,IAArB,CAAJ,EAA+B;AAC7B,UAAA,KAAK,CAAC,gBAAD,CAAL;AACA,iBAAO,KAAP;AACF;AAIF;AACF;;;;EAvEwC,G;SAArB,Y","sourcesContent":["<template>\n  <div class=\"banner-box\">\n    <div class=\"banner-box-delete\" @click=\"deleteBanner(this.bannerindex)\">✕</div>\n    <div\n      class=\"banner-img-box\"\n      @dragover.prevent\n      @drop.prevent=\"drop($event,'img')\"\n      @click=\"clickUploadImage\"\n    >\n      이미지.jpg\n      <img\n        :ref=\"`img${bannerindex}`\"\n        class=\"banner-upload-image\"\n        :src=\"this.$store.state.bannerData[this.bannerindex].img\"\n        onerror=\"this.style.visibility='hidden'\"\n      />\n      <input\n        :ref=\"`imgupload${bannerindex}`\"\n        id=\"bgImage\"\n        type=\"file\"\n        name=\"bgImage\"\n        accept=\"image.*\"\n        multiple=\"multiple\"\n        class=\"hidden\"\n        @change=\"imageUploadChange($event)\"\n      />\n    </div>\n\n    <div\n      class=\"banner-img-box\"\n      @dragover.prevent\n      @drop.prevent=\"drop($event,'word')\"\n      @click=\"clickUploadWord\"\n    >\n      글.png\n      <img\n        :ref=\"`word${bannerindex}`\"\n        class=\"banner-upload-image\"\n        :src=\"this.$store.state.bannerData[this.bannerindex].word\"\n        onerror=\"this.style.visibility='hidden'\"\n      />\n      <input\n        :ref=\"`wordupload${bannerindex}`\"\n        id=\"fontImage\"\n        type=\"file\"\n        name=\"wordImage\"\n        accept=\"image.*\"\n        multiple=\"multiple\"\n        class=\"hidden\"\n        @change=\"imageUploadChange($event)\"\n      />\n    </div>\n\n    <div class=\"banner-datepicker\">\n      <Datepicker locale=\"kr\" placeholder=\"기간 선택\" range v-model=\"date\" format=\"yyyy/MM/dd HH:mm\"></Datepicker>\n    </div>\n    <div class=\"banner-linkbox\">\n      <input type=\"text\" placeholder=\"링크 입력\" />\n    </div>\n  </div>\n</template>\n<script>\nimport { Options, Vue } from \"vue-class-component\";\nimport { Prop} from \"vue-property-decorator\";\nimport Datepicker from \"vue3-date-time-picker\";\nimport \"vue3-date-time-picker/dist/main.css\";\nimport axios from \"axios\";\n\n@Options({\n  props:{\n    bannerindex: Number,\n    bannerBoxData: Object\n  },\n  components: { Datepicker, Prop },\n})\n\n\n\nexport default class BannerAddBox extends Vue {\n  date = null;\n\n  deleteBanner(idx) {\n    this.$store.commit('REMOVE_BANNER',idx);\n  }\n\n  setBannerImg(payload){\n    this.$store.commit('SET_BANNER_IMG',payload);\n  }\n\n  drop(event, type){    \n    if(type===\"img\"){\n      this.inputImageDrop(event.dataTransfer.files);\n    }else if(type===\"word\"){\n      this.inputWordDrop(event.dataTransfer.files);\n    }\n  }\n\n  imageUploadChange(event){\n    this.uploadImage(event.target.files[0]);\n  }\n\n  uploadImage(file){\n    console.log(\"uploadImage\");\n    let form = new FormData();\n    let idx = this.bannerindex;\n    form.append('image',file);\n    let payload = {};\n    axios.post(\"/api/banner-image\",form,{headers:{'Content-Type':'multipart/form-data'}\n    }).then(res => {\n      payload ={\n        index:idx,\n        src:res.data.path\n      };\n      console.log(payload);\n      this.setBannerImg(payload);\n    });\n  }\n\n  clickUploadImage(){\n    this.$refs['imgupload'+this.bannerindex].click();\n  }\n\n  clickUploadWord(){\n    this.$refs['wordupload'+this.bannerindex].click();\n  }\n\n  inputImageDrop(files){\n    if(files.length){\n      var file = files[0];\n      if(!/^image\\//.test(file.type)){\n        alert(\"이미지 파일만 가능합니다.\");\n        return false;\n      }\n    this.uploadImage(file);\n\n    }\n  }\n\n  inputWordDrop(files){\n    if(files.length){\n      var file = files[0];\n      if(!/^image\\//.test(file.type)){\n        alert(\"이미지 파일만 가능합니다.\");\n        return false;\n      }\n\n\n\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}