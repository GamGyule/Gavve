{"remainingRequest":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Web\\Gavve\\Gavve\\frontend\\src\\components\\pc\\admin\\BannerAddBox.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\src\\components\\pc\\admin\\BannerAddBox.vue","mtime":1639466619913},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634221177998},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1634221183264},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634221177998},{"path":"D:\\Web\\Gavve\\Gavve\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1634221192301}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9XZWIvR2F2dmUvR2F2dmUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9XZWIvR2F2dmUvR2F2dmUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiRDovV2ViL0dhdnZlL0dhdnZlL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkQ6L1dlYi9HYXZ2ZS9HYXZ2ZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkQ6L1dlYi9HYXZ2ZS9HYXZ2ZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkQ6L1dlYi9HYXZ2ZS9HYXZ2ZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9kZWMsIF9jbGFzczsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IE9wdGlvbnMsIFZ1ZSB9IGZyb20gInZ1ZS1jbGFzcy1jb21wb25lbnQiOwppbXBvcnQgeyBQcm9wIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBEYXRlcGlja2VyIGZyb20gInZ1ZTMtZGF0ZS10aW1lLXBpY2tlciI7CmltcG9ydCAidnVlMy1kYXRlLXRpbWUtcGlja2VyL2Rpc3QvbWFpbi5jc3MiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwp2YXIgQmFubmVyQWRkQm94ID0gKF9kZWMgPSBPcHRpb25zKHsKICBwcm9wczogewogICAgYmFubmVyaW5kZXg6IE51bWJlciwKICAgIGJhbm5lckJveERhdGE6IE9iamVjdAogIH0sCiAgY29tcG9uZW50czogewogICAgRGF0ZXBpY2tlcjogRGF0ZXBpY2tlciwKICAgIFByb3A6IFByb3AKICB9Cn0pLCBfZGVjKF9jbGFzcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhCYW5uZXJBZGRCb3gsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEJhbm5lckFkZEJveCk7CgogIGZ1bmN0aW9uIEJhbm5lckFkZEJveCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFubmVyQWRkQm94KTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGF0ZSIsIG51bGwpOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhCYW5uZXJBZGRCb3gsIFt7CiAgICBrZXk6ICJnZXRJbWFnZVVybCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW1hZ2VVcmwoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5iYW5uZXJEYXRhW3RoaXMuYmFubmVyaW5kZXhdLmltZyA9PT0gInRlbXAiKSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5iYW5uZXJEYXRhW3RoaXMuYmFubmVyaW5kZXhdLmltZzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRlbGV0ZUJhbm5lciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlQmFubmVyKGlkeCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1JFTU9WRV9CQU5ORVInLCBpZHgpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEJhbm5lckltZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QmFubmVySW1nKHBheWxvYWQpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfQkFOTkVSX0lNRycsIHBheWxvYWQpOwogICAgfQogIH0sIHsKICAgIGtleTogImRyb3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRyb3AoZXZlbnQsIHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09ICJpbWciKSB7CiAgICAgICAgdGhpcy5pbnB1dEltYWdlRHJvcChldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJ3b3JkIikgewogICAgICAgIHRoaXMuaW5wdXRXb3JkRHJvcChldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaW1hZ2VVcGxvYWRDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGltYWdlVXBsb2FkQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHRoaXMudXBsb2FkSW1hZ2UoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGxvYWRJbWFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBsb2FkSW1hZ2UoZmlsZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJ1cGxvYWRJbWFnZSIpOwogICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICB2YXIgaWR4ID0gdGhpcy5iYW5uZXJpbmRleDsKICAgICAgZm9ybS5hcHBlbmQoJ2ltYWdlJywgZmlsZSk7CiAgICAgIHZhciBwYXlsb2FkID0ge307CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvYmFubmVyLWltYWdlIiwgZm9ybSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICBpbmRleDogaWR4LAogICAgICAgICAgc3JjOiByZXMuZGF0YS5wYXRoCiAgICAgICAgfTsKICAgICAgICBfdGhpczIuJHJlZnNbJ2ltZycgKyBfdGhpczIuYmFubmVyaW5kZXhdLnNyYyA9IHBheWxvYWQuc3JjOyAvL3RoaXMuc2V0QmFubmVySW1nKHBheWxvYWQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGlja1VwbG9hZEltYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGlja1VwbG9hZEltYWdlKCkgewogICAgICB0aGlzLiRyZWZzWydpbWd1cGxvYWQnICsgdGhpcy5iYW5uZXJpbmRleF0uY2xpY2soKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGlja1VwbG9hZFdvcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsaWNrVXBsb2FkV29yZCgpIHsKICAgICAgdGhpcy4kcmVmc1snd29yZHVwbG9hZCcgKyB0aGlzLmJhbm5lcmluZGV4XS5jbGljaygpOwogICAgfQogIH0sIHsKICAgIGtleTogImlucHV0SW1hZ2VEcm9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnB1dEltYWdlRHJvcChmaWxlcykgewogICAgICBpZiAoZmlsZXMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTsKCiAgICAgICAgaWYgKCEvXmltYWdlXC8vLnRlc3QoZmlsZS50eXBlKSkgewogICAgICAgICAgYWxlcnQoIuydtOuvuOyngCDtjIzsnbzrp4wgYXNkYXNk6rCA64ql7ZWp64uI64ukLiIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdGhpcy51cGxvYWRJbWFnZShmaWxlKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImlucHV0V29yZERyb3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlucHV0V29yZERyb3AoZmlsZXMpIHsKICAgICAgaWYgKGZpbGVzLmxlbmd0aCkgewogICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07CgogICAgICAgIGlmICghL15pbWFnZVwvLy50ZXN0KGZpbGUudHlwZSkpIHsKICAgICAgICAgIGFsZXJ0KCLsnbTrr7jsp4Ag7YyM7J2866eMIOqwgOuKpe2VqeuLiOuLpC4iKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBCYW5uZXJBZGRCb3g7Cn0oVnVlKSkgfHwgX2NsYXNzKTsKZXhwb3J0IHsgQmFubmVyQWRkQm94IGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["D:\\Web\\Gavve\\Gavve\\frontend\\src\\components\\pc\\admin\\BannerAddBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"banner-box\">\n    <div class=\"banner-box-delete\" @click=\"deleteBanner(this.bannerindex)\">✕</div>\n    <div\n      class=\"banner-img-box\"\n      @dragover.prevent\n      @drop.prevent=\"drop($event,'img')\"\n      @click=\"clickUploadImage\"\n    >\n    이미지.jpg\n      <img\n        :ref=\"`img${bannerindex}`\"\n        class=\"banner-upload-image\"\n        :src=\"getImageUrl()\"\n        onerror=\"this.style.visibility='hidden'\"\n      />\n      <input\n      :ref=\"`imgupload${bannerindex}`\"\n        id=\"bgImage\"\n        type=\"file\"\n        name=\"bgImage\"\n        accept=\"image.*\"\n        multiple=\"multiple\"\n        class=\"hidden\"\n        @change=\"imageUploadChange($event)\"\n      />\n    </div>\n\n    <div\n      class=\"banner-img-box\"\n      @dragover.prevent\n      @drop.prevent=\"drop($event,'word')\"\n      @click=\"clickUploadWord\"\n    >\n      글.png\n      <img\n        :ref=\"`word${bannerindex}`\"\n        class=\"banner-upload-image\"\n        :src=\"this.$store.state.bannerData[this.bannerindex].word\"\n        onerror=\"this.style.visibility='hidden'\"\n      />\n      <input\n        :ref=\"`wordupload${bannerindex}`\"\n        id=\"fontImage\"\n        type=\"file\"\n        name=\"wordImage\"\n        accept=\"image.*\"\n        multiple=\"multiple\"\n        class=\"hidden\"\n        @change=\"imageUploadChange($event)\"\n      />\n    </div>\n\n    <div class=\"banner-datepicker\">\n      <Datepicker locale=\"kr\" placeholder=\"기간 선택\" range v-model=\"date\" format=\"yyyy/MM/dd HH:mm\"></Datepicker>\n    </div>\n    <div class=\"banner-linkbox\">\n      <input type=\"text\" placeholder=\"링크 입력\" />\n    </div>\n  </div>\n</template>\n<script>\nimport { Options, Vue } from \"vue-class-component\";\nimport { Prop} from \"vue-property-decorator\";\nimport Datepicker from \"vue3-date-time-picker\";\nimport \"vue3-date-time-picker/dist/main.css\";\nimport axios from \"axios\";\n\n@Options({\n  props:{\n    bannerindex: Number,\n    bannerBoxData: Object,\n  },\n  components: { Datepicker, Prop },\n})\n\n\n\nexport default class BannerAddBox extends Vue {\n  date = null;\n\n\n  getImageUrl(){\n    if(this.$store.state.bannerData[this.bannerindex].img === \"temp\"){\n      return \"\";\n    }else{\n      return this.$store.state.bannerData[this.bannerindex].img;\n    }\n  }\n\n\n  deleteBanner(idx) {\n    this.$store.commit('REMOVE_BANNER',idx);\n  }\n\n  setBannerImg(payload){\n    this.$store.commit('SET_BANNER_IMG',payload);\n  }\n\n  drop(event, type){    \n    if(type===\"img\"){\n      this.inputImageDrop(event.dataTransfer.files);\n    }else if(type===\"word\"){\n      this.inputWordDrop(event.dataTransfer.files);\n    }\n\n  }\n\n  imageUploadChange(event){\n    this.uploadImage(event.target.files[0]);\n  }\n\n  uploadImage(file){\n    console.log(\"uploadImage\");\n    let form = new FormData();\n    let idx = this.bannerindex;\n    form.append('image',file);\n    let payload = {};\n    axios.post(\"/api/banner-image\",form,{headers:{'Content-Type':'multipart/form-data'}\n    }).then(res => {\n      payload ={\n        index:idx,\n        src:res.data.path\n      };\n      this.$refs['img'+this.bannerindex].src = payload.src;\n      //this.setBannerImg(payload);\n    });\n  }\n\n  clickUploadImage(){\n    this.$refs['imgupload'+this.bannerindex].click();\n  }\n\n  clickUploadWord(){\n    this.$refs['wordupload'+this.bannerindex].click();\n  }\n\n  inputImageDrop(files){\n    if(files.length){\n      var file = files[0];\n      if(!/^image\\//.test(file.type)){\n        alert(\"이미지 파일만 asdasd가능합니다.\");\n        return false;\n      }\n    this.uploadImage(file);\n\n    }\n  }\n\n  inputWordDrop(files){\n    if(files.length){\n      var file = files[0];\n      if(!/^image\\//.test(file.type)){\n        alert(\"이미지 파일만 가능합니다.\");\n        return false;\n      }\n\n\n\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}